---
id: implementKvibID
title: Utvide Kvib
description: Utivde Kvib
slug: /omKvib/expandKvib
displayed_sidebar: OmKvibSidebar
sidebar_position: 3
---

## Rutine for kvalitetskontroll

Før hver merge til master, skal følgende punkter gjennomføres: 

1. Følge KVIB sine konvensjoner for CSS-klassenavn. [Se Konvensjoner for CSS-klassenavn.](./infoKvib.mdx#konvensjoner-for-css-klassenavn)

2. Følge KVIB sine konvensjoner for dokumentasjon (struktur og innhold). [Se Innhold og struktur av dokumentasjon.](#innhold-og-struktur-i-dokumentasjon)

3. Sjekke rettskriving og klarspråk.


4. Teste med skjermleser:
    - NVDA


5. Teste med browserverktøy:
    - Wave for UU-testing
    - Lighthouse for beste praksis


6. Teste i ulike browsere:
    - Chrome / chromium
    - Firefox
    - Safari


7. Teste med 400% zoom på desktop, samt teste på små skjermer.


8. Test at tab-navigering på siden funger korrekt. 


9. Det skal være QA på all ny kode.

10. Oppdater versjonsloggen. [Se Oppdater versjon.](#oppdater-versjon)





## Innhold og struktur i dokumentasjon

### Struktur av dokumentasjonen


* Følg alltid overskriftsnivåene nedover, selv om dette nødvendigvis ikke gir riktig størrelse. Begynn med <h2\> (##) ettersom sidetittelen, <h1\>, settes i beskrivelsen av mdx-filen (øverst i filen) ved bruk av “title”. 

* Vær opppmerksom på hvor mye innhold som blir i mdx-filen. Vurder å eventuelt dele opp innholdet i flere mdx-filer, og legg de samlet i en fellesmappe. Dette generer et til undernivå i venstre sidebar (eks. se hvordan dette er løst med knapper). 
En slik strukturering gir mindre scrolling på samme side, og samtidig mer oversikt i høyre sidebar ettersom den kun viser element <h2\> og <h3\>.


 
### Innhold
Få alltid godkjent komponenter av designer før det legges inn i kvib. Dokumentasjon av en komponent skal inneholde: 

* Beskrivende heading: Bruk mest naturlige heading-element, avhengig av sturkturen på resten av siden,  som tittel på den spesifikke komponenten.


* Skriv en liten beskrivelse av komponenten under heading.


* Vis utseende til komponenten ved å skrive html-kode med tilhørende css-klasser. 


* Vis tilhørende html-kode under komponenten ved å bruke en kodeblokk uten tittel (_ ‘''markup <….> '’'_ ).


* Tillegg for komponenter som krever Javascript:
    - Lag en GIF for å vise animert funksjonalitet. (Ta skjermopptak av animasjonen, og deretter konverter til en GIF. Vanlig konvertering av HTML til GIF fungerer ikke i alle tilfeller). Legg GIF inn i dokumentasjon.
    - Legg evt inn ekstra statiske bilder med beskrivende teskt for å vise flere variasjoner av komponenten.



![documenting_example](/img/image_docs/documenting_example.PNG)



## Oppdater versjon
Det er viktig å holde en riktig og oppdatert versjonslogg, slik at det skal bli enklere for brukere av KVIB å kunne se endringer som har blitt gjort mellom hver versjon av biblioteket. Seksjonen øverst i dokumentet viser en oversikt over kommendene endringer.
I versjonsloggen skal den nyeste versjonen stå øverst sammen med utgivelsesdato.

Versjonering følger [konvensjoner fra Semantic Versioning](https://semver.org/). 
Hovedsakelig inkrementerer patch-versjon ved bakover kompatibel bug-fix, minor-versjon ved ny bakover kompatibel funskjonalitet og major-versjon ved funksjonalitet som ikke er bakvoer kompatibel.  

 
For hver endring som gjøres, skal den nye versjonen dokumenteres:

* Legg til ny .mdx-fil under _kvib/blog_, med filnavn: **YYYY-MM-DD-version[major.minor.patch].mdx **(formatet gjør at dato generes automatisk]

* Følg strukturen fra eksisterende filer i _blog_ for å lage en beskrivelse øverst i filen:

    - Sett _"title: Versjon [major.minor.patch]"_. 

    - Skriv kort beskrivelse for mdx-filen. 

    - Sett passende _tags_. 

* Skriv en beskrivelse av endringer som er gjort i versjonen ved å bruke titlene (sett som <h2\>):

    - Added: nye funksjoner som er lagt til 

    - Changed: endringer som er gjort

    - Deprecated: funksjoner som snart skal fjernes. 
    
    - Removed: funskjoner som er fjernet. 

    - Fixed: bugs som er fikset. 
    
    - Security: dersom det er sårbarheter i koden.



## Tekniske strukturen i KVIB

Her kommer det besrkivelse av hvordan kildekoden til KVIB er bygget opp. 

### Prosjektstrukturen til KVIB

Slik ser filtreet til KVIB ut på et overordnet nivå:

```markdown 
kvib
├─ .docusaurus
├─ .github
│  ├─ workflows
├─ blog
│  ├─ 2022-07-08-version-[0.0.5].mdx
├─ docs
│  ├─ designsystems
│  │  ├─ designTokens
│  │  ├─ Komponenter
│  ├─ omKvib
├─ node_modules
├─ src
│  ├─css
│  ├─ docusaurus_custom_css
│  ├─ html
├─ static
│  ├─ gif
│  ├─ img
│  ├─ .nojekyll
├─ .gitignore
├─ babel.config.js
├─ docusaurus.config.js
├─ package.json
├─ package-lock.json
├─ README.md
├─ sidebars.js
├─ tsconfig.json
```

### Legge til ny komponent/designtoken

#### 1. Opprette CSS-fil

Nye CSS-filer for komponenter og designtokens skal legges i src/css/. Husk å lenke til CSS-filen i main.css som vist under:

```markdown
/* HovedCSS */
@import 'farger.css';
@import 'buttons.css';
```

#### 2. Dokumentasjon

Alle nye komponenter og designtokens skal dokumenteres i docs/designsystems/ som .mdx-filer. Dersom det er ny komponent skal dokumentasjonen for denne ligge i undermappen Komponenter. Ny designtoken skal legges i undermappen designTokens.

Ved opprettelse av ny .mdx-fil skal dette innholdet ligge øverst i filen som vist for en radioknapp:
```markdown
---
id: radiobuttonID                            /* dokumentets ID som blant annet brukes til å legge .mdx-filen i sidebaren */
title: Radioknapp                            /* tittelen som vises i KVIB */
description: Oversikt over radioknapper som blir brukt i Kartverket sine løsninger.
slug: /designsystem/komponenter/radiobutton  /* filstien til .mdx-filen */                  
displayed_sidebar: designsystemSidebar       /* for å vise filen i sidebaren til designsystems */
sidebar_position: 3                          /* setter posisjonen i sidebaren */
---
```

Se [Innhold og struktur i dokumentasjon](#innhold-og-struktur-i-dokumentasjon) for hvordan nye komponenter og designtokens skal dokumenteres.


#### 3. Legge til dokumentasjonen i sidebaren

For at .mdx-filen skal vises i sidebaren til KVIB må filsti med .mdx-filens id legges til under designsystemSidebar i sidebars.js slik:
```markdown
type: 'category',
      label: 'Komponenter', // Label til sidebar
      link: {
        type: 'generated-index',
        title: 'Komponenter',
        description: 'Her er en oversikt over utvalget av komponenter i KVIB.' +
            ' Disse er bygget er blant annet bygget opp ved bruk av desing tokens fra KVIB, eksempelvis farger og typografi. I dokumentasjonen følger beskrivelse av komponenten og bruksområde, sammen med kodeeksempler. ',
        slug: '/designsystem/Komponenter',
      },
      items: [
        // Dokument som skal være under 'Design tokens'. For å hente .mdx-fil; skriv path inkludert IDen.
         // Eks. folder/folder/docID
        'designsystems/Komponenter/checkboxID',
        'designsystems/Komponenter/inputfeltID',
        'designsystems/Komponenter/dropDownID',
        'designsystems/Komponenter/sliderID',
        'designsystems/Komponenter/radiobuttonID',
        'designsystems/Komponenter/sideelementerID',
        'designsystems/Komponenter/navID',
        'designsystems/Komponenter/tableID',
        /*----LEGG TIL NY FIL HER----*/
        {
          type: 'category',
          label: 'Knapper', // Label til sidebar
          items: [
            'designsystems/Komponenter/Knapper/grønnknappID',
            'designsystems/Komponenter/Knapper/blåknappID',
            'designsystems/Komponenter/Knapper/ikonknappID',
            'designsystems/Komponenter/Knapper/disabledknappID',
          ],
        },
      ],
    },
```

Pass på at dette legges under items i riktig category. I eksempelet over legges ny fil i category Komponenter.

